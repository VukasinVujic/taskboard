@if (toastVm$ | async; as vm) { @if(vm.visible){
<div
  class="toast"
  [class.success]="vm.type === 'success'"
  [class.error]="vm.type === 'error'"
  [class.info]="vm.type === 'info'"
>
  {{ vm.message }}

  @if( vm.countdown !== null){
  <span>
    {{ vm.countdown }}
  </span>

  }
  <button (click)="closeToast()">X</button>
</div>

} }

<input
  style="margin-top: 10px"
  type="text"
  (input)="onSearch($event.target.value)"
/>
<div class="kanaban">
  <app-task-column
    title="TODO"
    [tasks$]="todo$"
    [statuses]="statuses"
    (changeStatus)="onChangeStatus($event.id, $event.status)"
    (deleteTask)="deleteTask($event)"
    (saveTask)="onUpdateTask($event)"
  />

  <app-task-column
    title="IN PROGRESS"
    [tasks$]="inProgress$"
    [statuses]="statuses"
    (changeStatus)="onChangeStatus($event.id, $event.status)"
    (deleteTask)="deleteTask($event)"
    (saveTask)="onUpdateTask($event)"
  />

  <app-task-column
    title="DONE"
    [tasks$]="done$"
    [statuses]="statuses"
    (changeStatus)="onChangeStatus($event.id, $event.status)"
    (deleteTask)="deleteTask($event)"
    (saveTask)="onUpdateTask($event)"
  />
</div>

@if(showUndo$ | async) { @if (lastDeletedTask$ | async; as t) {
<button (click)="unDoDeletedTask()" class="undo-bar">
  UNDO deleted task {{ t.title }}
</button>

} @if(undoCountdown$ | async; as value) {

<div>Undo za {{ value }}</div>
} }
